[env]
framework = arduino
; platform = espressif32       ; error: 'xSemaphoreHandle' does not name a type; did you mean 'SemaphoreHandle_t'?, should work with #include "Arduino.h" ...
; platform = espressif32@6.5.0 ; works
platform = https://github.com/pioarduino/platform-espressif32/releases/download/55.03.31/platform-espressif32.zip ; works
monitor_speed = 115200
build_flags = 
  -D PLATFORM_VERSION=\"pioarduino-55.03.31\" ; ðŸŒ™ make sure it matches with above plaftform

[env:esp32dev]
board = esp32dev
build_flags = 
  ${env.build_flags}
  -D CONFIG_IDF_TARGET_ESP32=1

[env:esp-wrover-kit]
board = esp-wrover-kit
build_flags = 
  ${env.build_flags}
  -D CONFIG_IDF_TARGET_ESP32=1
  -DBOARD_HAS_PSRAM 
  -mfix-esp32-psram-cache-issue

[env:esp32-s3-devkitc-1]
board = esp32-s3-devkitc-1
build_flags = 
  ${env.build_flags}
  -D CONFIG_IDF_TARGET_ESP32S3=1
  -D ARDUINO_USB_MODE=1 ; which USB device classes are enabled on your ESP32 at boot. default 1 in board definition (serial only)
  -D ARDUINO_USB_CDC_ON_BOOT=1 ;Communications Device Class: controls whether the ESP32's USB serial port is enabled automatically at boot, default 1 in board definition
  -D ARDUINO_USB_MSC_ON_BOOT=0 ;Mass Storage Class, disable
  -D ARDUINO_USB_DFU_ON_BOOT=0 ;download firmware update, disable
  -D LOLIN_WIFI_FIX  ; some boards have wifi issues if this is not defined, this sets WIFI_POWER_8_5dBm

[env:esp32-p4]
board = esp32-p4-evboard
board_build.partitions  = default_16MB.csv
build_flags = 
  ${env.build_flags}
  -D CONFIG_IDF_TARGET_ESP32P4=1
  -Wl,-wrap,esp_dma_capable_malloc ;; makes SDIO for ESP-Hosted use PSRAM if available.
